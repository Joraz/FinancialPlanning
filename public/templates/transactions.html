<!-- transactions.html -->
<div class="col-md-12" style="padding-top: 20px">
    <div class="col-md-3">
        <button class="btn btn-default" data-ng-click="vm.addNewTransaction()">Add a new transaction</button>
    </div>
    <div class="col-md-9">
        <div data-ng-if="vm.addingNewTransaction">
            <form name="transactionEdit">
                <div class="form-group">
                    <label for="transactionType">Choose a transaction type to associate this transaction to: </label>
                    <select name="transactionType" id="transactionType" data-ng-model="vm.selectedTransactionType"
                            data-ng-required="true"
                            data-ng-options="transactionType.name for transactionType in vm.transactionTypes track by transactionType._id">
                        <option value="">-- Please select an option --</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="isRecurring">Is the transaction recurring? </label>

                    <input class="checkbox form-control" id="isRecurring" name="isRecurring" type="checkbox"
                           data-ng-model="vm.newTransactionIsRecurring">
                </div>
                <div class="form-group">
                    <label for="adjustment">Please enter the transaction amount: </label>
                    <input id="adjustment" name="adjustment" type="number" step="any"
                           data-ng-model="vm.newTransactionAdjustment" required>
                </div>
                <div class="form-group">
                    <label for="datePick">Select the{{vm.newTransactionIsRecurring ? ' starting ' : ' '}}transaction
                        date</label>
                    <datepicker id="datePick" name="datePick" data-ng-model="vm.newTransactionDate"
                                required></datepicker>
                </div>
                <button class="btn btn-default pull-right"
                        data-ng-disabled="transactionEdit.$invalid" data-ng-click="vm.saveNewTransaction()">Save
                </button>
            </form>
        </div>
        <div data-ng-if="!vm.addingNewTransaction">
            <h3>Recent Transactions</h3>
            <div class="panel panel-default">
                <div class="panel-heading clearfix">
                    <h3 class="panel-title">
                        <!--Transaction Date-->
                        <span class="col-md-2">Transaction Date</span>
                        <span class="col-md-5">Transaction Name</span>
                        <span class="col-md-5">Transaction Amount</span>
                    </h3>
                </div>
            </div>
            <div class="panel panel-default" data-ng-repeat="transaction in vm.transactionSummaries.slice(0, 5)">
                <div class="panel-body">
                    <span class="col-md-2">{{transaction.transactionDate | date}}</span>
                    <span class="col-md-5">{{transaction.name}}</span>
                    <span class="col-md-5">{{transaction.adjustment | currency}}</span>
                </div>
            </div>
        </div>
    </div>
</div>